// Декларативная палитра для генератора темы VS Code
// Базовые цвета
export const baseColors = {
  background: '#1a1b26',
  backgroundAlt: '#1f2230',
  backgroundSidebar: '#181923',
  backgroundPanel: '#232739',
  border: '#202230',
  borderAlt: '#363c55',
  foreground: '#9aaae9',
  foregroundAlt: '#7b87b6',
  foregroundInactive: '#6b78a8',
  white: '#ffffff',
  black: '#1a1b26',
  gray: '#76767d',
  grayLight: '#dfe2db',
  grayDark: '#363c54',
}

// Акцентные цвета
export const accentColors = {
  blue: '#7dcfff',
  blueAlt: '#29acf8',
  purple: '#b18af8',
  purpleAlt: '#9d7cd8',
  green: '#a7c785',
  yellow: '#f7de70',
  orange: '#f0ac74',
  red: '#f38095',
  cyan: '#73daca',
  teal: '#96cab6',
  pink: '#af7c9f',
}

// Специфические цвета для синтаксиса
export const syntaxColors = {
  commentDoc: '#7d909e',
  jsdocTag: '#729bcb',
  keywordAccess: '#a582e5',
  keywordAsync: '#7aa2f7',
  interface: '#c6d8a9',
  enum: '#f4c572',
  namespace: '#87b6f3',
  typeParam: '#e1d6a5',
  builtinType: '#77bee1',
  comparisonOp: '#a783e8',
  assignOp: '#a893e1',
  spreadOp: '#7cbdfc',
  annotation: '#f4c572',
  attribute: '#f5cf71',
  pragma: '#729bcb',
  mdHeading: '#7aa2f7',
  mdCode: '#95af90',
  bracket: '#c0caf5',
  delimiter: '#a6b1de',
  deprecated: '#8591bfb3',
  variable: '#c0caf5',
  funcParam: '#accbf8',
  regexp: '#bfce7f',
  accessor: '#7dcfff',
}

// Альфа-значения
export const alphaValues = {
  '1f': '1f',
  '14': '14',
  '0f': '0f',
  '1a': '1a',
  '0d': '0d',
  '33': '33',
  '66': '66',
  '99': '99',
  '80': '80',
  b3: 'b3',
  cc: 'cc',
  '59': '59',
  '29': '29',
  '2e': '2e',
  '3d': '3d',
  '40': '40',
  '00': '00',
  e6: 'e6',
}

// Специальные цвета для UI
export const uiColors = {
  blueStrong: '#0078d4',
  blueHover: '#1f88d9',
  blueSeparator: '#202230',
  blueSecondary: '#232634',
  blueBadge: '#0078d4',
  yellowBadge: '#f7de70',
  redBadge: '#f38095',
  grayBadge: '#363c55',
  grayMenu: '#363c55',
  grayShadow: '#282d43e6',
  grayScrollbar: '#272b40',
  grayWidgetBorder: '#363c55',
  grayWidgetBackground: '#1f2230',
  grayWidgetForeground: '#9aaae9',
  grayWidgetTitle: '#232739',
  grayWidgetList: '#1a1b26',
  grayWidgetFocus: '#88b0ff33',
  grayWidgetHighlight: '#29acf8',
  grayWidgetSelected: '#9aaae9',
  grayWidgetIcon: '#9aaae9',
  grayWidgetQuickInput: '#1f2230',
  grayWidgetQuickInputTitle: '#232739',
  grayWidgetQuickInputList: '#88b0ff33',
  grayWidgetPeekView: '#1f2230',
  grayWidgetPeekViewTitle: '#232739',
  grayWidgetPeekViewMatch: '#85aeff2e',
  grayWidgetPeekViewSelection: '#86afff33',
  grayWidgetFilterMatch: '#bb9af740',
  grayWidgetFilterMatchBorder: '#29acf800',
  grayWidgetSearchMatch: '#bb9af740',
  grayWidgetSearchMatchBorder: '#29acf800',
  grayWidgetFindMatch: '#bb9af733',
  grayWidgetFindMatchBorder: '#29acf800',
  grayWidgetFindMatchHighlight: '#bb9af740',
  grayWidgetFindMatchForeground: '#9aaae9',
  grayWidgetTerminalFindMatch: '#bb9af733',
  grayWidgetTerminalFindMatchBorder: '#29acf800',
  grayWidgetTerminalFindMatchHighlight: '#bb9af740',
  grayWidgetWordHighlight: '#727fb01f',
  grayWidgetWordHighlightStrong: '#88b0ff33',
  grayWidgetHoverHighlight: '#727fb01f',
  grayWidgetSelectionHighlight: '#bb9af740',
  grayWidgetSelectionHighlightBorder: '#29acf800',
  grayWidgetToolbarHover: '#727fb01f',
  grayWidgetToolbarActive: '#7dcfff33',
  grayWidgetToolbarOutline: '#00000000',
  grayWidgetDebugToolbar: '#232739',
  grayWidgetDebugToolbarBorder: '#7aa2f766',
  grayWidgetDebugException: '#232739',
  grayWidgetDebugExceptionBorder: '#363c55',
  grayWidgetStackFrame: '#727fb01f',
  grayWidgetStackFrameHighlight: '#88b0ff33',
  grayWidgetBreakpoint: '#f38095',
  grayWidgetBreakpointDisabled: '#f3809580',
  grayWidgetBreakpointUnverified: '#f7de70',
  grayWidgetBreakpointCurrent: '#7dcfff',
  grayWidgetBreakpointStack: '#7dcfffb3',
  grayWidgetInlineChat: '#182031',
  grayWidgetInlineChatForeground: '#ffffff',
  grayWidgetInlineChatBorder: '#202230',
  grayWidgetInlineChatInput: '#6b78a8',
  grayWidgetScrollbar: '#272b40',
  grayWidgetScrollbarSlider: '#727fb01f',
  grayWidgetScrollbarSliderHover: '#84adff29',
  grayWidgetScrollbarSliderActive: '#88b0ff33',
  grayWidgetRangeHighlight: '#727fb01f',
  grayWidgetOverviewRulerFindMatch: '#29acf800',
  grayWidgetOverviewRulerSelectionHighlight: '#29acf800',
  grayWidgetOverviewRulerRangeHighlight: '#7dcfffcc',
  editorLineNumberActive: '#6f89b9',
  activityBarInactive: '#4f577b',
  terminalBrightRed: '#f593a5',
  terminalBrightGreen: '#b4cf97',
  terminalBrightYellow: '#f8e385',
  terminalBrightMagenta: '#bd9cf9',
  grayWidgetOverviewRulerWordHighlight: '#727fb01f',
  grayWidgetOverviewRulerWordHighlightStrong: '#88b0ff33',
  grayWidgetMinimapFindMatch: '#bb9af780',
  grayWidgetMinimapSelectionHighlight: '#88b0ff33',
  grayWidgetEditorGroupDrop: '#23273933',
  grayWidgetListDrop: '#23273933',
  grayWidgetPanelSectionDrop: '#23273933',
  grayWidgetTerminalDrop: '#23273933',
  hoverWidgetHighlight: '#43b6f9',
}

// Генерация полной палитры с альфа-вариантами
import { createColorPalette, isValidColor } from './color-utils'

// Объединение всех базовых цветов
const allBaseColors = {
  ...baseColors,
  ...accentColors,
  ...syntaxColors,
  ...uiColors,
  // Добавление альфа-вариантов для основных цветов
  selectionBlueAlpha: '#88b0ff33',
  selectionBlueAlphaStrong: '#8b0ff333',
  selectionBlueAlphaLight: '#7aa2f7',
  selectionBlueAlphaMid: '#7dcfff33',
  selectionBlueAlphaBorder: '#7dcfff',
  alpha0: '#00000000',
  alpha1fFull: '#727fb01f',
}

// Создание полной палитры с альфа-вариантами
export const palette = createColorPalette(allBaseColors, alphaValues)

// Добавляем недостающие цвета, которые используются в ui.ts
palette.accentGreen = accentColors.green
palette.accentRed = accentColors.red
palette.accentBlue = accentColors.blue
palette.accentYellow = accentColors.yellow
palette.accentBlueAlt = accentColors.blueAlt
palette.accentPurple = accentColors.purple
palette.accentPurpleAlt = accentColors.purpleAlt
palette.accentPink = accentColors.pink
palette.accentCyan = accentColors.cyan
palette.accentTeal = accentColors.teal
palette.accentOrange = accentColors.orange

// Добавляем недостающие альфа-ключи как полноценные цвета с альфа-каналом
palette.alpha1f = '1f'
palette.alpha14 = '14'
palette.alpha0f = '0f'
palette.alpha1a = '1a'
palette.alpha0d = '0d'
palette.alpha33 = '33'
palette.alpha59 = '59'
palette.alphaCC = 'cc'
palette.alpha99 = '99'

// Добавляем специфические цвета для UI элементов
palette.grayWidgetScrollbarSliderHover = uiColors.grayWidgetScrollbarSliderHover
palette.grayWidgetBorder = uiColors.grayWidgetBorder
palette.hoverWidgetHighlight = uiColors.hoverWidgetHighlight
palette.grayWidgetPeekViewMatch = uiColors.grayWidgetPeekViewMatch
palette.grayWidgetPeekViewSelection = uiColors.grayWidgetPeekViewSelection
palette.grayWidgetFilterMatch = uiColors.grayWidgetFilterMatch
palette.grayWidgetFilterMatchBorder = uiColors.grayWidgetFilterMatchBorder
palette.grayWidgetSearchMatch = uiColors.grayWidgetSearchMatch
palette.grayWidgetSearchMatchBorder = uiColors.grayWidgetSearchMatchBorder
palette.grayWidgetFindMatch = uiColors.grayWidgetFindMatch
palette.grayWidgetFindMatchBorder = uiColors.grayWidgetFindMatchBorder
palette.grayWidgetFindMatchHighlight = uiColors.grayWidgetFindMatchHighlight
palette.grayWidgetWordHighlight = uiColors.grayWidgetWordHighlight
palette.grayWidgetWordHighlightStrong = uiColors.grayWidgetWordHighlightStrong
palette.grayWidgetHoverHighlight = uiColors.grayWidgetHoverHighlight
palette.grayWidgetSelectionHighlight = uiColors.grayWidgetSelectionHighlight
palette.grayWidgetSelectionHighlightBorder =
  uiColors.grayWidgetSelectionHighlightBorder
palette.grayWidgetToolbarHover = uiColors.grayWidgetToolbarHover
palette.grayWidgetToolbarActive = uiColors.grayWidgetToolbarActive
palette.grayWidgetToolbarOutline = uiColors.grayWidgetToolbarOutline
palette.grayWidgetDebugToolbar = uiColors.grayWidgetDebugToolbar
palette.grayWidgetDebugToolbarBorder = uiColors.grayWidgetDebugToolbarBorder
palette.grayWidgetDebugException = uiColors.grayWidgetDebugException
palette.grayWidgetDebugExceptionBorder = uiColors.grayWidgetDebugExceptionBorder
palette.grayWidgetStackFrame = uiColors.grayWidgetStackFrame
palette.grayWidgetStackFrameHighlight = uiColors.grayWidgetStackFrameHighlight
palette.grayWidgetBreakpoint = uiColors.grayWidgetBreakpoint
palette.grayWidgetBreakpointDisabled = uiColors.grayWidgetBreakpointDisabled
palette.grayWidgetBreakpointUnverified = uiColors.grayWidgetBreakpointUnverified
palette.grayWidgetBreakpointCurrent = uiColors.grayWidgetBreakpointCurrent
palette.grayWidgetBreakpointStack = uiColors.grayWidgetBreakpointStack
palette.grayWidgetInlineChat = uiColors.grayWidgetInlineChat
palette.grayWidgetInlineChatForeground = uiColors.grayWidgetInlineChatForeground
palette.grayWidgetInlineChatBorder = uiColors.grayWidgetInlineChatBorder
palette.grayWidgetInlineChatInput = uiColors.grayWidgetInlineChatInput
palette.grayWidgetScrollbar = uiColors.grayWidgetScrollbar
palette.grayWidgetScrollbarSlider = uiColors.grayWidgetScrollbarSlider
palette.grayWidgetScrollbarSliderActive =
  uiColors.grayWidgetScrollbarSliderActive
palette.grayWidgetRangeHighlight = uiColors.grayWidgetRangeHighlight
palette.grayWidgetOverviewRulerFindMatch =
  uiColors.grayWidgetOverviewRulerFindMatch
palette.grayWidgetOverviewRulerSelectionHighlight =
  uiColors.grayWidgetOverviewRulerSelectionHighlight
palette.grayWidgetOverviewRulerRangeHighlight =
  uiColors.grayWidgetOverviewRulerRangeHighlight
palette.editorLineNumberActive = uiColors.editorLineNumberActive
palette.activityBarInactive = uiColors.activityBarInactive
palette.terminalBrightRed = uiColors.terminalBrightRed
palette.terminalBrightGreen = uiColors.terminalBrightGreen
palette.terminalBrightYellow = uiColors.terminalBrightYellow
palette.terminalBrightMagenta = uiColors.terminalBrightMagenta
palette.grayWidgetOverviewRulerWordHighlight =
  uiColors.grayWidgetOverviewRulerWordHighlight
palette.grayWidgetOverviewRulerWordHighlightStrong =
  uiColors.grayWidgetOverviewRulerWordHighlightStrong
palette.grayWidgetMinimapFindMatch = uiColors.grayWidgetMinimapFindMatch
palette.grayWidgetMinimapSelectionHighlight =
  uiColors.grayWidgetMinimapSelectionHighlight
palette.grayWidgetEditorGroupDrop = uiColors.grayWidgetEditorGroupDrop
palette.grayWidgetListDrop = uiColors.grayWidgetListDrop
palette.grayWidgetPanelSectionDrop = uiColors.grayWidgetPanelSectionDrop
palette.grayWidgetTerminalDrop = uiColors.grayWidgetTerminalDrop

// Валидация палитры
export function validatePalette(): void {
  const invalidColors: string[] = []
  for (const [key, value] of Object.entries(palette)) {
    if (typeof value === 'string') {
      // Пропускаем альфа-компоненты, которые являются строками длиной 2 и содержат только шестнадцатеричные символы
      if (value.length === 2 && /^[0-9a-fA-F]+$/.test(value)) {
        continue // Это альфа-компонент, пропускаем проверку
      }
      if (!isValidColor(value)) {
        invalidColors.push(`${key}: ${value}`)
      }
    }
  }

  if (invalidColors.length > 0) {
    console.warn('Найдены недопустимые цвета в палитре:', invalidColors)
  }
}

// Выполняем валидацию палитры при загрузке
validatePalette()
