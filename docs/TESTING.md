# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Tokyo Modern

## üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–¢–∏–ø —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: Unit-—Ç–µ—Å—Ç—ã
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Vitest 4.0.6
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 82 —Ç–µ—Å—Ç–∞
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: 10% –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç
- **–°—Ç–∞—Ç—É—Å**: 100% —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## üéØ –ü–æ–∫—Ä—ã—Ç—ã–µ –º–æ–¥—É–ª–∏

### 1. Color Utils (`src/theme/utils/color.ts`)

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 10
- **–§—É–Ω–∫—Ü–∏–∏**: `alpha()`, `lighten()`, `darken()`, `mix()`, `isValidHex()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### 2. RGB Utils (`src/theme/utils/rgb.ts`)

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 9
- **–§—É–Ω–∫—Ü–∏–∏**: `normalizeHex()`, `hexToRgb()`, `rgbToHex()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, clamping –∑–Ω–∞—á–µ–Ω–∏–π

### 3. Contrast Utils (`src/theme/utils/contrast.ts`)

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 7
- **–§—É–Ω–∫—Ü–∏–∏**: `getLuminance()`, `getContrastRatio()`, `meetsWCAG()`, `checkContrast()`, `getColorDistance()`, `areColorsSimilar()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: WCAG compliance, —Ä–∞—Å—á–µ—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, —Ü–≤–µ—Ç–æ–≤–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è

### 4. Validation Utils (`src/theme/utils/validation.ts`)

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 7
- **–§—É–Ω–∫—Ü–∏–∏**: `validateTheme()`, `validateCriticalContrast()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ–º—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–≤–µ—Ç–æ–≤, –∫–æ–Ω—Ç—Ä–∞—Å—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–∞—Ä

### 5. Palette Generation (`src/theme/palette/generated.ts`)

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 4
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤, –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ª–∏—Ç—Ä—ã
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ –≤ –ø–∞–ª–∏—Ç—Ä–µ

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### vitest.config.ts

```typescript
{
  test: {
    globals: true,           // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ describe, it, expect
    environment: 'node',     // Node.js –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    include: ['test/**/*.test.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: ['node_modules/', 'dist/', 'scripts/', 'test/', 'coverage/', '**/*.test.ts'],
      include: ['src/**/*.ts'],
    },
  },
}
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm test

# –ó–∞–ø—É—Å–∫ —Å coverage
npm run test:coverage

# Watch mode
npm run test:watch

# UI mode
npm run test:ui
```

## üìù –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

### Color Utils

```typescript
describe('Color Utils', () => {
  describe('alpha', () => {
    it('should add alpha channel', () => {
      expect(alpha('#ff0000', 0.5)).toBe('#ff000080')
    })
  })

  describe('mix', () => {
    it('should mix two colors', () => {
      expect(mix('#ff0000', '#0000ff', 0.5)).toBe('#80080')
    })
  })
})
```

### Validation

```typescript
describe('Validation Utils', () => {
  it('should validate correct theme', () => {
    const result = validateTheme(validTheme)
    expect(result.valid).toBe(true)
    expect(result.errors).toHaveLength(0)
  })

  it('should detect invalid hex colors', () => {
    const theme = { ...validTheme, colors: { foreground: 'invalid' }
    const result = validateTheme(theme)
    expect(result.valid).toBe(false)
  })
})
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã | 82/82 (100%) | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ utils | 100% | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | <500ms | üü¢ –ë—ã—Å—Ç—Ä–æ |
| –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | 100% | üü¢ –°—Ç–∞–±–∏–ª—å–Ω–æ |

## üß™ –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (mix, lighten, darken)
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (hex ‚Üî rgb)
- –í–∞–ª–∏–¥–∞—Ü–∏—è hex —Ü–≤–µ—Ç–æ–≤
- –†–∞—Å—á–µ—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ –∏ luminance
- WCAG compliance –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

- Clamping –∑–Ω–∞—á–µ–Ω–∏–π (opacity, rgb)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ/–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–ª–∏—Ç—Ä—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ–π —Ç–µ–º—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

## üîç –ù–µ –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏

–°–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –ø–æ–∫–∞ –Ω–µ –∏–º–µ—é—Ç unit-—Ç–µ—Å—Ç–æ–≤ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):

- `src/theme/generator/` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã UI/tokens/semantic
- `src/theme/palette/base.ts` - –±–∞–∑–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
- `src/theme/config.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)

–≠—Ç–∏ –º–æ–¥—É–ª–∏ –ª–∏–±–æ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ª–∏–±–æ —è–≤–ª—è—é—Ç—Å—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π —É–∂–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏** - color, rgb, contrast, validation
2. **–¢–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã** - 10% success rate
3. **–ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –º–µ–Ω–µ–µ 500ms –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
4. **–•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - —Ç–µ—Å—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ –º–æ–¥—É–ª—è–º
5. **–ì–æ—Ç–æ–≤–æ –∫ CI/CD** - –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ pipeline

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- –î–æ–±–∞–≤–∏—Ç—å snapshot —Ç–µ—Å—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–π —Ç–µ–º—ã
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è build –ø—Ä–æ—Ü–µ—Å—Å–∞

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ CI/CD
- –î–æ–±–∞–≤–∏—Ç—å badge —Å coverage –≤ README
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pre-commit hooks –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
