# Система Дизайн-Токенов: Tokyo Night Modern

## 1. Введение и Философия

Эта документ описывает систему дизайн-токенов, разработанную для темы `Tokyo Night Modern`. Цель этой системы — создать единый источник правды (Single Source of Truth) для всех визуальных стилей, обеспечивая консистентность, масштабируемость и простоту поддержки темы.

**Основные принципы:**

- **Семантическое именование:** Токены именуются в соответствии с их назначением, а не значением. Например, `color.background.primary` вместо `color.gray.900` или `#10151d`. Это делает код более читаемым и упрощает редизайн.
- **Структурированность и иерархия:** Токены организованы в логическую иерархическую структуру, что упрощает их поиск и понимание.
- **Масштабируемость:** Система спроектирована для поддержки нескольких тем (например, светлой и темной) и различных состояний компонентов (hover, focus, active, disabled).
- **Централизованное управление:** Все визуальные решения определяются в одном месте ([`src/theme/design-tokens.ts`](../src/theme/design-tokens.ts)), что позволяет легко вносить глобальные изменения.

## 2. Структура Токенов

Токены организованы по следующей схеме:

`[категория].[свойство].[вариант]-[состояние]`

- **Категория:** Тип токена (например, `color`, `space`, `typography`). На данный момент реализована только категория `color`.
- **Свойство:** Конкретное свойство CSS или назначение (например, `background`, `text`, `border`).
- **Вариант:** Модификатор, описывающий роль токена (например, `primary`, `secondary`, `error`).
- **Состояние (опционально):** Модификатор для интерактивных состояний (например, `hover`, `active`, `disabled`).

**Примеры:**

- `color.background.primary`: Основной цвет фона.
- `color.text.secondary`: Вторичный цвет текста.
- `color.interactive.primary-hover`: Цвет фона основной кнопки при наведении.

## 3. Основные Категории Цветовых Токенов

Все цветовые токены находятся в файле [`src/theme/design-tokens.ts`](../src/theme/design-tokens.ts).

### `color.background`
Используется для фоновых поверхностей и контейнеров.
- `primary`: Основной фон приложения.
- `secondary`: Для боковых панелей, вспомогательных секций.
- `tertiary`: Для элементов, требующих легкого визуального отделения.
- `elevated`: Для "приподнятых" поверхностей, таких как модальные окна или карточки.
- `overlay`: Для затемняющих оверлеев.

### `color.text`
Используется для всего текстового содержимого.
- `primary`: Основной цвет текста.
- `secondary`: Для менее важного текста, подписей.
- `tertiary`: Для метаданных и другой второстепенной информации.
- `disabled`: Для неактивного текста.
- `inverse`: Для текста на цветных или темных фонах.
- `placeholder`: Для текста-заполнителя в полях ввода.

### `color.border`
Используется для границ элементов и разделителей.
- `default`: Стандартный цвет границ.
- `subtle`: Более мягкий цвет для разделителей или второстепенных границ.
- `focus`: Цвет границы элемента в фокусе.
- `error`, `warning`, `success`: Цвета границ для соответствующих состояний.

### `color.interactive`
Используется для интерактивных элементов (кнопки, ссылки).
- `primary`, `primary-hover`, `primary-active`: Состояния основной кнопки.
- `secondary`, `secondary-hover`, `secondary-active`: Состояния вторичной кнопки.
- `disabled`, `disabled-text`: Состояния неактивного элемента.
- `link`, `link-hover`: Состояния ссылок.

### `color.status`
Используется для обратной связи пользователю.
- `success`, `warning`, `error`, `info`: Цвета для сообщений о успехе, предупреждении, ошибке и информации.

### `color.special`
Для уникальных элементов интерфейса.
- `shadow`: Цвет теней.
- `focusRing`: Цвет кольца фокуса.
- `selection`: Фон для выделенного текста или элементов.
- `highlight`: Фон для подсветки, например, результатов поиска.

## 4. Использование Токенов в Коде

Для доступа к значениям токенов была создана утилита `getToken()`.

```typescript
import { getToken } from './theme/design-tokens';

// Получение основного цвета фона для темной темы (по умолчанию)
const primaryBgColor = getToken('color.background.primary'); // -> '#10151d'

// Получение цвета текста для светлой темы
const primaryTextColorLight = getToken('color.text.primary', 'light'); // -> '#10151d'
```

## 5. Поддержка Тем (Светлая/Темная)

Система изначально спроектирована для поддержки нескольких тем. В `design-tokens.ts` определен базовый объект `tokens` для темной темы и пример `lightThemeTokens`, который переопределяет значения для светлой темы.

Функция `getToken(path, theme)` автоматически выбирает правильный набор токенов в зависимости от переданного второго аргумента.

## 6. Дальнейшие Шаги и Рекомендации

1. **Полная реализация светлой темы:** Текущие значения в `lightThemeTokens` являются заполнителями. Необходимо провести тщательный подбор цветов для обеспечения хорошей читаемости и соответствия WCAG.
2. **Рефакторинг кодовой базы:** Постепенно заменить все прямое использование цветов из `palette` на вызовы `getToken()`. Это централизует управление цветами и упростит будущие изменения.
3. **Расширение системы:** Добавить новые категории токенов по мере необходимости, например, `space` (для отступов) и `typography` (для шрифтов).
4. **Автоматизация:** Рассмотреть возможность создания скриптов для автоматической генерации CSS Custom Properties или файлов для других платформ (например, JSON для мобильных приложений) из `design-tokens.ts`.